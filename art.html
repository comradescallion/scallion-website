<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>cool scallion web site</title>
        <link href="/style.css" rel="stylesheet" type="text/css" media="all">
        <link rel="icon" type="image/x-icon" href="scallion.png">
        <style>
        
            body {
                margin: 0 !important;
                padding: 0 !important;
                font-family: Courier New;
                background-color: black;
                overflow-y: hidden;
                overflow-x: hidden;
            }
        
            img {
                margin: 0;
                margin-top: 0;
                padding: 0;
                float: left;
            }
            
            .overlay {
                transition: all 1.5s cubic-bezier(.8,-1.8,.4,1.5);
                z-index: 5;
            }

            .art {
                background-repeat: no-repeat;
                background-size: cover; 
                height: 40vh;
                width: 40vh;
                position: relative;
                margin-top: 5vh;
                margin-left: 5vh;

                pointer-events: all;
                transition: transform 0.4s cubic-bezier(0.455, 0.030, 0.515, 0.955);
            }

            .art1 {
                position: relative;
                height: 100%;
                width: 100%;
                background-repeat: no-repeat;
                background-size: contain;
                background-position: center; 
                cursor: pointer;
                
                pointer-events: all;
                transition: transform 0.4s cubic-bezier(0.5, 0.030, 0.5, 0.955);
            }

            #showcase {
                overflow-x: hidden;
                overflow-y: hidden;
                display: flex;
            }

            #artContainer {
                overflow-x: hidden;
                overflow-y: hidden;
                display: flex;
                position: relative;
                left: 0;
                transition: left 0.25s;
            }

            .scrollArrow {
                background-color: white; 
                width: 5%; 
                height: 10%; 
                top:45%; 
                position:relative; 
                float: right;
                pointer-events: all;
                cursor: pointer;
            }


        </style>
    </head>
    <body>
        <div id="overlay4" class="overlay" style="left:-95%; top:0; background-image: url(gradient.png);">
            <div class="scrollArrow" onclick="scrollShowcaseL(43)"></div>
        </div>
        <div id="overlay5" class="overlay" style="left:95%; top:0; background-image: url(gradient.png);">
            <div class="scrollArrow" style="float:left" onclick="scrollShowcaseR(43)"></div>
        </div>

        <div id="overlay2" class="overlay" style="top:50%; background-color: #ffce34;"></div>
        <div id="overlay3" class="overlay" style="bottom:50%; background-color: #ffce34;"></div>

        <div id="overlay" class="overlay" style="top:68.75%"></div>
        <div id="overlay1" class="overlay" style="bottom:68.75%"></div>

        <div id="showcase" style="height: 50%; position: absolute; top: 25%; left:5%">
            <div id="artContainer">
                <div class="art" style="width: 0; margin: 0;"></div>
                <div class="art" id="onw"><div class="art1" id="onw1" style="background-image: url(/art/onward-rapscallion.png);"></div></div>
                <div class="art" id="lapse"><div class="art1" id="lapse1" style="background-image: url(/art/temporary-lapse.png);"></div></div>
                <div class="art" id="resid"><div class="art1" id="resid1" style="background-image: url(/art/residential-relapse.jpg);"></div></div>
                <div class="art" id="cd"><div class="art1" id="cd1" style="background-image: url(/art/compact-delusions.png);"></div></div>
                <div class="art" id="untitled"><div class="art1" id="untitled1" style="background-image: url(/art/untitled1.png);"></div></div>
                <div class="art" style="width: 100vw;"></div>
            </div>
        </div>
        

        <script>
            function unVeil() {
                setTimeout(function () {
                    const overlay = document.getElementById('overlay');
                    const overlay1 = document.getElementById('overlay1');
                    overlay.style.top = '100%';
                    overlay1.style.bottom = '100%';

                    setTimeout(function () {
                        overlay2.style.top = '75%';
                        overlay3.style.bottom = '75%';
                    }, 750);
                }, 750);
            }

            unVeil();


            const onw = document.getElementById("onw");
            const onw1 = document.getElementById("onw1");
            const lapse = document.getElementById("lapse");
            const lapse1 = document.getElementById("lapse1");
            const cd = document.getElementById("cd");
            const cd1 = document.getElementById("cd1");
            const resid = document.getElementById("resid");
            const resid1 = document.getElementById("resid1");
            const untitled = document.getElementById("untitled");
            const untitled1 = document.getElementById("untitled1");

            const overlay4 = document.getElementById("overlay4");
            const showcase = document.getElementById("showcase");

            


            function flipUnflip(myElement, element2, image1, image2) {
                let isClicked = false;

                myElement.addEventListener('click', function() {
                    if (isClicked) {
                        isClicked = false;
                    }
                    else {
                        isClicked = true; 
                    }
                });

                myElement.addEventListener('mouseover', function() {
                    element2.style.transform = "scaleX(-1)";
                    setTimeout(function () {
                        if (element2.style.transform == "scaleX(-1)") {
                            element2.style.backgroundImage = image1;
                        }
                    }, 200);
                });

                myElement.addEventListener('mouseout', function() {
                    if (!isClicked) {
                        element2.style.transform = "scaleX(1)";
                        setTimeout(function () {
                            element2.style.backgroundImage = image2;
                        }, 200);
                    }
                    
                });
            }

            flipUnflip(onw, onw1, "url(/art/onward-rapscallion1.png)", "url(/art/onward-rapscallion.png)");
            flipUnflip(lapse, lapse1, "url(/art/temporary-lapse1.png)", "url(/art/temporary-lapse.png)");
            flipUnflip(resid, resid1, "url('/art/residential-relapse1.jpg')", "url('/art/residential-relapse.jpg')");
            flipUnflip(cd, cd1, "url('/art/compact-delusions1.png')", "url('/art/compact-delusions.png')");
            flipUnflip(untitled, untitled1, "url(/art/untitled1.png)", "url(/art/untitled1.png)");


            const artContainer = document.getElementById("artContainer");

            artContainer.style.left = "0vh";
            isMoving = false;

            function scrollShowcaseL(num) {
                if (!isMoving) {
                    if (artContainer.children[1].getBoundingClientRect().right  + (num * window.innerHeight) / 100 < document.documentElement.clientWidth - (document.documentElement.clientWidth * 0.05)) {
                        if (artContainer.style.left == "") {
                            artContainer.style.left = "0vh";
                            console.log(artContainer.style.left);
                        }
                        artContainer.style.left = `${parseFloat(artContainer.style.left.replace("vh", "")) + num}vh`;
                        console.log(artContainer.style.left);

                        isMoving = true;
                        setTimeout(function() {
                            isMoving = false;
                        }, 250)
                    }
                    else {
                        artContainer.style.left = `${((window.innerWidth - (window.innerWidth * 0.1) - (window.innerHeight * 0.1) - artContainer.children[1].offsetWidth) / window.innerHeight) * 100}vh`;

                        console.log(`${((window.innerWidth - (window.innerWidth * 0.15) - artContainer.children[1].offsetWidth) / window.innerHeight) * 100}vh`);

                        console.log(false);
                    }
                }
                
            }

            function scrollShowcaseR(num) {
                if (!isMoving) {
                    if (artContainer.children[artContainer.children.length - 2].getBoundingClientRect().left  - (num * window.innerHeight) / 100 > document.documentElement.clientWidth * 0.05) {
                        if (artContainer.style.left == "") {
                            artContainer.style.left = "0vh";
                            console.log(artContainer.style.left);
                        }
                        artContainer.style.left = `${parseFloat(artContainer.style.left.replace("vh", "")) - num}vh`;
                        console.log(artContainer.style.left);

                        isMoving = true;
                            setTimeout(function() {
                                isMoving = false;
                            }, 250)
                    }
                    else {
                        artContainer.style.left = `${((-artContainer.offsetWidth + (window.innerWidth * 0.10) + artContainer.children[artContainer.children.length - 1].offsetWidth + artContainer.children[artContainer.children.length - 2].offsetWidth) / window.innerHeight) * 100}vh`;

                        console.log(`${((-artContainer.offsetWidth + (window.innerWidth * 0.15) + artContainer.children[artContainer.children.length - 1].offsetWidth + 2 * artContainer.children[artContainer.children.length - 2].offsetWidth) / window.innerHeight) * 100}vh`);

                        console.log(false);
                    }
                }
            }
            

            function makeTabIndex() {
                for (let i = 1; i < artContainer.children.length - 2; i++) {
                    artContainer.children[i].tabIndex = i;
                }
            }
        </script>
    </body>
</html>